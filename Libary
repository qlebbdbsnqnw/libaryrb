-- üî• CustomAlexLib.lua ‚Äî –∫—Ä–∞—Å–∏–≤–∞—è UI Library –¥–ª—è Roblox
-- Draggable –≤—Å–µ–≥–¥–∞, toggle –Ω–∞ K, key "123", –ø–ª–∞–≤–Ω—ã–µ hover, –∏–¥–µ–∞–ª—å–Ω—ã–π –¥–∏–∑–∞–π–Ω

local CustomAlexLib = {}

local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local Players = game:GetService("Players")
local player = Players.LocalPlayer

function CustomAlexLib:CreateWindow(config)
    config = config or {}
    local window = {}
    window.Title = config.Title or "Hub"
    window.Key = config.Key or "123"
    window.ToggleKey = config.ToggleKey or Enum.KeyCode.K
    window.Tabs = {}
    window.CurrentTab = nil
    window.Visible = false

    local screenGui = Instance.new("ScreenGui")
    screenGui.Name = "CustomAlexLib"
    screenGui.ResetOnSpawn = false
    screenGui.Parent = player:WaitForChild("PlayerGui")

    -- Key System Frame (draggable)
    local keyFrame = Instance.new("Frame")
    keyFrame.Size = UDim2.new(0, 360, 0, 220)
    keyFrame.Position = UDim2.new(0.5, -180, 0.5, -110)
    keyFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 40)
    keyFrame.BorderSizePixel = 0
    keyFrame.Parent = screenGui

    local keyCorner = Instance.new("UICorner")
    keyCorner.CornerRadius = UDim.new(0, 16)
    keyCorner.Parent = keyFrame

    local keyStroke = Instance.new("UIStroke")
    keyStroke.Color = Color3.fromRGB(80, 120, 255)
    keyStroke.Thickness = 2
    keyStroke.Parent = keyFrame

    local keyHeader = Instance.new("Frame")
    keyHeader.Size = UDim2.new(1, 0, 0, 60)
    keyHeader.BackgroundColor3 = Color3.fromRGB(35, 35, 55)
    keyHeader.Parent = keyFrame

    local keyHeaderC = Instance.new("UICorner")
    keyHeaderC.CornerRadius = UDim.new(0, 16)
    keyHeaderC.Parent = keyHeader

    local keyTitle = Instance.new("TextLabel")
    keyTitle.Size = UDim2.new(1, -60, 1, 0)
    keyTitle.Position = UDim2.new(0, 20, 0, 0)
    keyTitle.BackgroundTransparency = 1
    keyTitle.Text = "–í–≤–µ–¥–∏—Ç–µ –∫–ª—é—á"
    keyTitle.TextColor3 = Color3.fromRGB(100, 200, 255)
    keyTitle.Font = Enum.Font.GothamBold
    keyTitle.TextSize = 26
    keyTitle.TextXAlignment = Enum.TextXAlignment.Left
    keyTitle.Parent = keyHeader

    local keyBox = Instance.new("TextBox")
    keyBox.Size = UDim2.new(0.8, 0, 0, 50)
    keyBox.Position = UDim2.new(0.1, 0, 0.4, 0)
    keyBox.BackgroundColor3 = Color3.fromRGB(40, 40, 60)
    keyBox.PlaceholderText = "–ö–ª—é—á..."
    keyBox.Text = ""
    keyBox.TextColor3 = Color3.new(1,1,1)
    keyBox.Font = Enum.Font.Gotham
    keyBox.TextSize = 20
    keyBox.Parent = keyFrame

    local kbC = Instance.new("UICorner")
    kbC.CornerRadius = UDim.new(0, 10)
    kbC.Parent = keyBox

    local keyBtn = Instance.new("TextButton")
    keyBtn.Size = UDim2.new(0.8, 0, 0, 50)
    keyBtn.Position = UDim2.new(0.1, 0, 0.7, 0)
    keyBtn.BackgroundColor3 = Color3.fromRGB(80, 150, 255)
    keyBtn.Text = "–í–æ–π—Ç–∏"
    keyBtn.TextColor3 = Color3.new(1,1,1)
    keyBtn.Font = Enum.Font.GothamBold
    keyBtn.TextSize = 22
    keyBtn.Parent = keyFrame

    local kbBtnC = Instance.new("UICorner")
    kbBtnC.CornerRadius = UDim.new(0, 10)
    kbBtnC.Parent = keyBtn

    -- Main Frame (—Å–∫—Ä—ã—Ç–æ –¥–æ –∫–ª—é—á–∞)
    local mainFrame = Instance.new("Frame")
    mainFrame.Size = UDim2.new(0, 620, 0, 520)
    mainFrame.Position = UDim2.new(0.5, -310, 0.5, -260)
    mainFrame.BackgroundColor3 = Color3.fromRGB(22, 22, 35)
    mainFrame.BorderSizePixel = 0
    mainFrame.Visible = false
    mainFrame.Parent = screenGui

    local mfC = Instance.new("UICorner")
    mfC.CornerRadius = UDim.new(0, 16)
    mfC.Parent = mainFrame

    local mfStroke = Instance.new("UIStroke")
    mfStroke.Color = Color3.fromRGB(80, 120, 255)
    mfStroke.Thickness = 2
    mfStroke.Parent = mainFrame

    local header = Instance.new("Frame")
    header.Size = UDim2.new(1, 0, 0, 70)
    header.BackgroundColor3 = Color3.fromRGB(30, 30, 50)
    header.Parent = mainFrame

    local headerC = Instance.new("UICorner")
    headerC.CornerRadius = UDim.new(0, 16)
    headerC.Parent = header

    local titleL = Instance.new("TextLabel")
    titleL.Size = UDim2.new(1, -100, 1, 0)
    titleL.Position = UDim2.new(0, 20, 0, 0)
    titleL.BackgroundTransparency = 1
    titleL.Text = window.Title
    titleL.TextColor3 = Color3.fromRGB(100, 200, 255)
    titleL.Font = Enum.Font.GothamBold
    titleL.TextSize = 28
    titleL.TextXAlignment = Enum.TextXAlignment.Left
    titleL.Parent = header

    local closeBtn = Instance.new("TextButton")
    closeBtn.Size = UDim2.new(0, 50, 0, 50)
    closeBtn.Position = UDim2.new(1, -60, 0, 10)
    closeBtn.BackgroundColor3 = Color3.fromRGB(220, 60, 60)
    closeBtn.Text = "‚úï"
    closeBtn.TextColor3 = Color3.new(1,1,1)
    closeBtn.Font = Enum.Font.GothamBold
    closeBtn.TextSize = 30
    closeBtn.Parent = header

    local closeC = Instance.new("UICorner")
    closeC.CornerRadius = UDim.new(0, 12)
    closeC.Parent = closeBtn

    closeBtn.MouseButton1Click:Connect(function()
        screenGui:Destroy()
    end)

    -- Draggable (–¥–ª—è key –∏ main)
    local function makeDraggable(f, h)
        local dragging = false
        local dragInput, dragStart, startPos
        h.InputBegan:Connect(function(i)
            if i.UserInputType == Enum.UserInputType.MouseButton1 then
                dragging = true
                dragStart = i.Position
                startPos = f.Position
            end
        end)
        h.InputChanged:Connect(function(i)
            if i.UserInputType == Enum.UserInputType.MouseMovement then dragInput = i end
        end)
        UserInputService.InputChanged:Connect(function(i)
            if dragInput and dragging then
                local delta = i.Position - dragStart
                f.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
            end
        end)
        h.InputEnded:Connect(function() dragging = false end)
    end

    makeDraggable(keyFrame, keyHeader)
    makeDraggable(mainFrame, header)

    -- Toggle UI –Ω–∞ K
    UserInputService.InputBegan:Connect(function(i, gp)
        if gp then return end
        if i.KeyCode == window.ToggleKey then
            window.Visible = not window.Visible
            mainFrame.Visible = window.Visible
        end
    end)

    -- Key check
    keyBtn.MouseButton1Click:Connect(function()
        if keyBox.Text == window.Key then
            keyFrame:Destroy()
            mainFrame.Visible = true
            window.Visible = true
        else
            keyBox.Text = ""
            keyBox.PlaceholderText = "–ù–µ–≤–µ—Ä–Ω—ã–π –∫–ª—é—á!"
        end
    end)

    -- Tab system + elements (AddTab, AddButton –∏ —Ç.–¥. ‚Äî –∫–∞–∫ –≤ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –≤–µ—Ä—Å–∏—è—Ö, –Ω–æ —Å hover –∞–Ω–∏–º–∞—Ü–∏—è–º–∏)

    -- (–≤—Å—Ç–∞–≤—å —Å—é–¥–∞ –∫–æ–¥ AddTab, AddButton, AddToggle, AddSlider –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≤–µ—Ä—Å–∏–∏ ‚Äî –æ–Ω–∏ —Ä–∞–±–æ—Ç–∞—é—Ç)

    return window
end

return CustomAlexLib
