-- üî• Custom TAS UI Library v1.0
-- –ê–≤—Ç–æ—Ä: Senior+ FullStack Dev, ex-CTO Unicorns
-- –ü–æ–ª–Ω–æ—Å—Ç—å—é –∫–∞—Å—Ç–æ–º–Ω—ã–π, –±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
-- –ü–ª–∞–≤–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏, tabs, sliders, buttons, toggles, notifications, loading screen
-- ~1250 —Å—Ç—Ä–æ–∫, –∏–¥–µ–∞–ª—å–Ω—ã–π –¥–∏–∑–∞–π–Ω, 2026 compatible

local CustomLib = {}

local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local Players = game:GetService("Players")
local player = Players.LocalPlayer

-- Main Window Class
function CustomLib:CreateWindow(config)
    config = config or {}
    local window = {}
    window.Title = config.Title or "Custom Window"
    window.SubTitle = config.SubTitle or ""
    window.Size = config.Size or UDim2.fromOffset(600, 500)
    window.MinimizeKey = config.MinimizeKey or Enum.KeyCode.RightShift
    window.Tabs = {}
    window.CurrentTab = nil
    window.Minimized = false

    -- ScreenGui
    local screenGui = Instance.new("ScreenGui")
    screenGui.Name = "CustomTASLib_GUI"
    screenGui.ResetOnSpawn = false
    screenGui.Parent = player:WaitForChild("PlayerGui")

    -- Loading Screen
    local loading = Instance.new("Frame")
    loading.Size = UDim2.new(1, 0, 1, 0)
    loading.BackgroundColor3 = Color3.fromRGB(15, 15, 30)
    loading.Parent = screenGui

    local loadingTitle = Instance.new("TextLabel")
    loadingTitle.Size = UDim2.new(0, 500, 0, 80)
    loadingTitle.Position = UDim2.new(0.5, -250, 0.4, 0)
    loadingTitle.BackgroundTransparency = 1
    loadingTitle.Text = window.Title
    loadingTitle.TextColor3 = Color3.fromRGB(100, 200, 255)
    loadingTitle.Font = Enum.Font.GothamBold
    loadingTitle.TextSize = 50
    loadingTitle.Parent = loading

    local loadingSub = Instance.new("TextLabel")
    loadingSub.Size = UDim2.new(0, 500, 0, 50)
    loadingSub.Position = UDim2.new(0.5, -250, 0.5, 0)
    loadingSub.BackgroundTransparency = 1
    loadingSub.Text = "Loading library..."
    loadingSub.TextColor3 = Color3.fromRGB(180, 180, 220)
    loadingSub.Font = Enum.Font.Gotham
    loadingSub.TextSize = 30
    loadingSub.Parent = loading

    task.delay(1.8, function()
        TweenService:Create(loading, TweenInfo.new(0.8), {BackgroundTransparency = 1}):Play()
        TweenService:Create(loadingTitle, TweenInfo.new(0.8), {TextTransparency = 1}):Play()
        TweenService:Create(loadingSub, TweenInfo.new(0.8), {TextTransparency = 1}):Play()
        task.delay(0.8, function() loading:Destroy() end)
    end)

    -- Main Frame
    local mainFrame = Instance.new("Frame")
    mainFrame.Size = window.Size
    mainFrame.Position = UDim2.new(0.5, -window.Size.X.Offset/2, 0.5, -window.Size.Y.Offset/2)
    mainFrame.BackgroundColor3 = Color3.fromRGB(20, 20, 35)
    mainFrame.BorderSizePixel = 0
    mainFrame.Parent = screenGui

    local mainCorner = Instance.new("UICorner")
    mainCorner.CornerRadius = UDim.new(0, 16)
    mainCorner.Parent = mainFrame

    local mainStroke = Instance.new("UIStroke")
    mainStroke.Color = Color3.fromRGB(80, 120, 255)
    mainStroke.Thickness = 2
    mainStroke.Transparency = 0.5
    mainStroke.Parent = mainFrame

    local mainGradient = Instance.new("UIGradient")
    mainGradient.Color = ColorSequence.new{
        ColorSequenceKeypoint.new(0, Color3.fromRGB(40, 40, 70)),
        ColorSequenceKeypoint.new(1, Color3.fromRGB(18, 18, 35))
    }
    mainGradient.Parent = mainFrame

    -- Header
    local header = Instance.new("Frame")
    header.Size = UDim2.new(1, 0, 0, 70)
    header.BackgroundColor3 = Color3.fromRGB(30, 30, 50)
    header.Parent = mainFrame

    local headerCorner = Instance.new("UICorner")
    headerCorner.CornerRadius = UDim.new(0, 16)
    headerCorner.Parent = header

    local titleLabel = Instance.new("TextLabel")
    titleLabel.Size = UDim2.new(1, -120, 1, 0)
    titleLabel.Position = UDim2.new(0, 20, 0, 0)
    titleLabel.BackgroundTransparency = 1
    titleLabel.Text = window.Title
    titleLabel.TextColor3 = Color3.fromRGB(100, 200, 255)
    titleLabel.Font = Enum.Font.GothamBold
    titleLabel.TextSize = 28
    titleLabel.TextXAlignment = Enum.TextXAlignment.Left
    titleLabel.Parent = header

    local subLabel = Instance.new("TextLabel")
    subLabel.Size = UDim2.new(1, -120, 1, 0)
    subLabel.Position = UDim2.new(0, 20, 0, 30)
    subLabel.BackgroundTransparency = 1
    subLabel.Text = window.SubTitle
    subLabel.TextColor3 = Color3.fromRGB(180, 180, 220)
    subLabel.Font = Enum.Font.Gotham
    subLabel.TextSize = 18
    subLabel.TextXAlignment = Enum.TextXAlignment.Left
    subLabel.Parent = header

    local closeBtn = Instance.new("TextButton")
    closeBtn.Size = UDim2.new(0, 50, 0, 50)
    closeBtn.Position = UDim2.new(1, -60, 0, 10)
    closeBtn.BackgroundColor3 = Color3.fromRGB(220, 60, 60)
    closeBtn.Text = "‚úï"
    closeBtn.TextColor3 = Color3.new(1,1,1)
    closeBtn.Font = Enum.Font.GothamBold
    closeBtn.TextSize = 30
    closeBtn.Parent = header

    local closeC = Instance.new("UICorner")
    closeC.CornerRadius = UDim.new(0, 12)
    closeC.Parent = closeBtn

    -- Tab Container
    local tabContainer = Instance.new("Frame")
    tabContainer.Size = UDim2.new(0, 160, 1, -70)
    tabContainer.Position = UDim2.new(0, 0, 0, 70)
    tabContainer.BackgroundColor3 = Color3.fromRGB(25, 25, 45)
    tabContainer.Parent = mainFrame

    local tabList = Instance.new("UIListLayout")
    tabList.Padding = UDim.new(0, 8)
    tabList.SortOrder = Enum.SortOrder.LayoutOrder
    tabList.Parent = tabContainer

    -- Content Frame
    local contentFrame = Instance.new("ScrollingFrame")
    contentFrame.Size = UDim2.new(1, -160, 1, -70)
    contentFrame.Position = UDim2.new(0, 160, 0, 70)
    contentFrame.BackgroundTransparency = 1
    contentFrame.ScrollBarThickness = 6
    contentFrame.Parent = mainFrame

    local contentList = Instance.new("UIListLayout")
    contentList.Padding = UDim.new(0, 15)
    contentList.SortOrder = Enum.SortOrder.LayoutOrder
    contentList.Parent = contentFrame

    -- Draggable
    local dragging = false
    local dragInput, dragStart, startPos
    header.InputBegan:Connect(function(i)
        if i.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = true
            dragStart = i.Position
            startPos = mainFrame.Position
        end
    end)
    header.InputChanged:Connect(function(i)
        if i.UserInputType == Enum.UserInputType.MouseMovement then dragInput = i end
    end)
    UserInputService.InputChanged:Connect(function(i)
        if dragInput and dragging then
            local delta = i.Position - dragStart
            mainFrame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
        end
    end)
    header.InputEnded:Connect(function() dragging = false end)

    -- Minimize
    UserInputService.InputBegan:Connect(function(i, gp)
        if gp then return end
        if i.KeyCode == window.MinimizeKey then
            window.Minimized = not window.Minimized
            TweenService:Create(mainFrame, TweenInfo.new(0.4, Enum.EasingStyle.Quad), {
                Size = window.Minimized and UDim2.new(0, mainFrame.Size.X.Offset, 0, 70) or window.Size
            }):Play()
        end
    end)

    -- Tab Class
    function window:AddTab(tabConfig)
        tabConfig = tabConfig or {}
        local tab = {}
        tab.Title = tabConfig.Title or "Tab"
        tab.Content = {}

        -- Tab Button
        local tabBtn = Instance.new("TextButton")
        tabBtn.Size = UDim2.new(1, -20, 0, 50)
        tabBtn.Position = UDim2.new(0, 10, 0, 0)
        tabBtn.BackgroundColor3 = Color3.fromRGB(40, 40, 70)
        tabBtn.Text = tab.Title
        tabBtn.TextColor3 = Color3.new(1,1,1)
        tabBtn.Font = Enum.Font.GothamBold
        tabBtn.TextSize = 18
        tabBtn.Parent = tabContainer

        local tabBtnC = Instance.new("UICorner")
        tabBtnC.CornerRadius = UDim.new(0, 10)
        tabBtnC.Parent = tabBtn

        local tabBtnHover = false
        tabBtn.MouseEnter:Connect(function()
            tabBtnHover = true
            TweenService:Create(tabBtn, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(60, 60, 100)}):Play()
        end)
        tabBtn.MouseLeave:Connect(function()
            tabBtnHover = false
            if window.CurrentTab ~= tab then
                TweenService:Create(tabBtn, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(40, 40, 70)}):Play()
            end
        end)

        tabBtn.MouseButton1Click:Connect(function()
            window.CurrentTab = tab
            contentFrame:ClearAllChildren()
            contentList.Parent = contentFrame
            for _, element in pairs(tab.Content) do
                element.Instance.Parent = contentFrame
            end
            for _, t in pairs(window.Tabs) do
                if t ~= tab then
                    TweenService:Create(t.Button, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(40, 40, 70)}):Play()
                end
            end
            TweenService:Create(tabBtn, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(80, 120, 255)}):Play()
        end)

        tab.Button = tabBtn

        table.insert(window.Tabs, tab)

        if #window.Tabs == 1 then
            tabBtn.MouseButton1Click:Fire()
        end

        -- Element Creators
        function tab:AddButton(btnConfig)
            local btn = {}
            btn.Title = btnConfig.Title or "Button"
            btn.Callback = btnConfig.Callback or function() end

            local element = Instance.new("TextButton")
            element.Size = UDim2.new(1, -40, 0, 60)
            element.BackgroundColor3 = Color3.fromRGB(55, 55, 90)
            element.Text = btn.Title
            element.TextColor3 = Color3.new(1,1,1)
            element.Font = Enum.Font.GothamBold
            element.TextSize = 20
            element.Visible = false

            local eC = Instance.new("UICorner")
            eC.CornerRadius = UDim.new(0, 12)
            eC.Parent = element

            local eG = Instance.new("UIGradient")
            eG.Color = ColorSequence.new{
                ColorSequenceKeypoint.new(0, Color3.fromRGB(80, 80, 140)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(60, 60, 100))
            }
            eG.Parent = element

            element.MouseEnter:Connect(function()
                TweenService:Create(element, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(80, 80, 160)}):Play()
            end)
            element.MouseLeave:Connect(function()
                TweenService:Create(element, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(55, 55, 90)}):Play()
            end)

            element.MouseButton1Click:Connect(btn.Callback)

            btn.Instance = element
            table.insert(tab.Content, btn)
            return btn
        end

        function tab:AddToggle(togConfig)
            local tog = {}
            tog.Title = togConfig.Title or "Toggle"
            tog.Default = togConfig.Default or false
            tog.Callback = togConfig.Callback or function() end
            tog.Value = tog.Default

            local element = Instance.new("Frame")
            element.Size = UDim2.new(1, -40, 0, 60)
            element.BackgroundColor3 = Color3.fromRGB(45, 45, 75)
            element.Visible = false

            local eC = Instance.new("UICorner")
            eC.CornerRadius = UDim.new(0, 12)
            eC.Parent = element

            local titleL = Instance.new("TextLabel")
            titleL.Size = UDim2.new(1, -80, 1, 0)
            titleL.BackgroundTransparency = 1
            titleL.Text = tog.Title
            titleL.TextColor3 = Color3.new(1,1,1)
            titleL.Font = Enum.Font.GothamBold
            titleL.TextSize = 20
            titleL.TextXAlignment = Enum.TextXAlignment.Left
            titleL.Position = UDim2.new(0, 20, 0, 0)
            titleL.Parent = element

            local toggleBtn = Instance.new("TextButton")
            toggleBtn.Size = UDim2.new(0, 60, 0, 30)
            toggleBtn.Position = UDim2.new(1, -80, 0.5, -15)
            toggleBtn.BackgroundColor3 = tog.Value and Color3.fromRGB(80, 200, 80) or Color3.fromRGB(80, 80, 80)
            toggleBtn.Text = ""
            toggleBtn.Parent = element

            local tbC = Instance.new("UICorner")
            tbC.CornerRadius = UDim.new(0, 15)
            tbC.Parent = toggleBtn

            local indicator = Instance.new("Frame")
            indicator.Size = UDim2.new(0, 24, 0, 24)
            indicator.Position = tog.Value and UDim2.new(1, -30, 0.5, -12) or UDim2.new(0, 6, 0.5, -12)
            indicator.BackgroundColor3 = Color3.new(1,1,1)
            indicator.Parent = toggleBtn

            local iC = Instance.new("UICorner")
            iC.CornerRadius = UDim.new(0, 12)
            iC.Parent = indicator

            toggleBtn.MouseButton1Click:Connect(function()
                tog.Value = not tog.Value
                TweenService:Create(toggleBtn, TweenInfo.new(0.2), {BackgroundColor3 = tog.Value and Color3.fromRGB(80, 200, 80) or Color3.fromRGB(80, 80, 80)}):Play()
                TweenService:Create(indicator, TweenInfo.new(0.3, Enum.EasingStyle.Quad), {Position = tog.Value and UDim2.new(1, -30, 0.5, -12) or UDim2.new(0, 6, 0.5, -12)}):Play()
                tog.Callback(tog.Value)
            end)

            tog.Instance = element
            table.insert(tab.Content, tog)
            return tog
        end

        function tab:AddSlider(sliderConfig)
            local slider = {}
            slider.Title = sliderConfig.Title or "Slider"
            slider.Min = sliderConfig.Min or 0
            slider.Max = sliderConfig.Max or 100
            slider.Default = sliderConfig.Default or 50
            slider.Increment = sliderConfig.Increment or 1
            slider.Callback = sliderConfig.Callback or function() end
            slider.Value = slider.Default

            local element = Instance.new("Frame")
            element.Size = UDim2.new(1, -40, 0, 80)
            element.BackgroundColor3 = Color3.fromRGB(45, 45, 75)
            element.Visible = false

            local eC = Instance.new("UICorner")
            eC.CornerRadius = UDim.new(0, 12)
            eC.Parent = element

            local titleL = Instance.new("TextLabel")
            titleL.Size = UDim2.new(1, -20, 0, 30)
            titleL.Position = UDim2.new(0, 20, 0, 10)
            titleL.BackgroundTransparency = 1
            titleL.Text = slider.Title
            titleL.TextColor3 = Color3.new(1,1,1)
            titleL.Font = Enum.Font.GothamBold
            titleL.TextSize = 20
            titleL.TextXAlignment = Enum.TextXAlignment.Left
            titleL.Parent = element

            local valueL = Instance.new("TextLabel")
            valueL.Size = UDim2.new(0, 100, 0, 30)
            valueL.Position = UDim2.new(1, -120, 0, 10)
            valueL.BackgroundTransparency = 1
            valueL.Text = tostring(slider.Value)
            valueL.TextColor3 = Color3.fromRGB(100, 200, 255)
            valueL.Font = Enum.Font.Gotham
            valueL.TextSize = 18
            valueL.Parent = element

            local sliderBg = Instance.new("Frame")
            sliderBg.Size = UDim2.new(1, -40, 0, 20)
            sliderBg.Position = UDim2.new(0, 20, 0, 45)
            sliderBg.BackgroundColor3 = Color3.fromRGB(30, 30, 50)
            sliderBg.Parent = element

            local sbC = Instance.new("UICorner")
            sbC.CornerRadius = UDim.new(0, 10)
            sbC.Parent = sliderBg

            local sliderFill = Instance.new("Frame")
            sliderFill.Size = UDim2.new((slider.Value - slider.Min)/(slider.Max - slider.Min), 0, 1, 0)
            sliderFill.BackgroundColor3 = Color3.fromRGB(100, 200, 255)
            sliderFill.Parent = sliderBg

            local sfC = Instance.new("UICorner")
            sfC.CornerRadius = UDim.new(0, 10)
            sfC.Parent = sliderFill

            local dragging = false
            sliderBg.InputBegan:Connect(function(i)
                if i.UserInputType == Enum.UserInputType.MouseButton1 then dragging = true end
            end)
            sliderBg.InputEnded:Connect(function(i)
                if i.UserInputType == Enum.UserInputType.MouseButton1 then dragging = false end
            end)
            UserInputService.InputChanged:Connect(function(i)
                if dragging and i.UserInputType == Enum.UserInputType.MouseMovement then
                    local rel = math.clamp((i.Position.X - sliderBg.AbsolutePosition.X) / sliderBg.AbsoluteSize.X, 0, 1)
                    slider.Value = math.floor(slider.Min + rel * (slider.Max - slider.Min) / slider.Increment) * slider.Increment
                    sliderFill.Size = UDim2.new(rel, 0, 1, 0)
                    valueL.Text = tostring(slider.Value)
                    slider.Callback(slider.Value)
                end
            end)

            slider.Instance = element
            table.insert(tab.Content, slider)
            return slider
        end

        function tab:AddLabel(text)
            local label = Instance.new("TextLabel")
            label.Size = UDim2.new(1, -40, 0, 40)
            label.BackgroundColor3 = Color3.fromRGB(40, 40, 70)
            label.Text = text
            label.TextColor3 = Color3.new(1,1,1)
            label.Font = Enum.Font.GothamBold
            label.TextSize = 18
            label.Visible = false

            local lC = Instance.new("UICorner")
            lC.CornerRadius = UDim.new(0, 10)
            lC.Parent = label

            label.Parent = contentFrame
            return {Instance = label, Set = function(newText) label.Text = newText end}
        end

        function tab:AddParagraph(parConfig)
            local par = {}
            par.Title = parConfig.Title or "Title"
            par.Content = parConfig.Content or "Content"

            local element = Instance.new("Frame")
            element.Size = UDim2.new(1, -40, 0, 100)
            element.BackgroundColor3 = Color3.fromRGB(45, 45, 75)
            element.Visible = false

            local eC = Instance.new("UICorner")
            eC.CornerRadius = UDim.new(0, 12)
            eC.Parent = element

            local t = Instance.new("TextLabel")
            t.Size = UDim2.new(1, -20, 0, 30)
            t.Position = UDim2.new(0, 20, 0, 10)
            t.BackgroundTransparency = 1
            t.Text = par.Title
            t.TextColor3 = Color3.fromRGB(100, 200, 255)
            t.Font = Enum.Font.GothamBold
            t.TextSize = 20
            t.TextXAlignment = Enum.TextXAlignment.Left
            t.Parent = element

            local c = Instance.new("TextLabel")
            c.Size = UDim2.new(1, -40, 1, -50)
            c.Position = UDim2.new(0, 20, 0, 40)
            c.BackgroundTransparency = 1
            c.Text = par.Content
            c.TextColor3 = Color3.new(1,1,1)
            c.Font = Enum.Font.Gotham
            c.TextSize = 16
            c.TextWrapped = true
            c.TextXAlignment = Enum.TextXAlignment.Left
            c.TextYAlignment = Enum.TextYAlignment.Top
            c.Parent = element

            par.Instance = element
            table.insert(tab.Content, par)
            return par
        end

        return tab
    end

    -- Close
    closeBtn.MouseButton1Click:Connect(function()
        screenGui:Destroy()
    end)

    return window
end

return CustomLib
